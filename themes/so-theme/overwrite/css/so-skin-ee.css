@import "compass";

$gray-dark: #C7D0DA;

/* Documents and Images Library */

.portlet-document-library {
	.document-display-style.display-icon {
		height: auto;
	}

	.lfr-header-row {
		min-height: 30px;
	}

	.lfr-header-row-content {
		padding: 3px 4px;
	}

	.aui-column-content-first {
		border-right: 1px solid $gray-dark;
		position: relative;
	}

	.aui-column-last {
		overflow: visible;
	}

	.lfr-panel-container {
		background: transparent;
	}

	.view {
		.aui-column-content-last {
			margin-left: -1px;
		}

		.document-thumbnail img {
			max-height: 80px;
			max-width: 80px;
		}

		.document-header {
			overflow: hidden;
		}

		.document-title {
			display: block;
			font-size: 1.4em;
			font-weight: bold;
			word-wrap: break-word;
		}
	}

	.lfr-preview-file {
		border-bottom: 1px solid $gray-dark;
	}

	.lfr-document-library-versions {
		.lfr-panel.lfr-extended {
			border-width: 0;
		}

		.lfr-panel-title {
			margin-left: 5px;
		}

		.version {
			border: 1px solid $gray-dark;
			border-width: 1px 0 0;
			position: relative;
			margin-bottom: 5px;

			span {
				display: inline-block;
			}

			.modified-date, .size, .user-name, .version-number {
				padding: 8px 7px 5px;
			}

			.version-number {
				color: #8F0920;
				font-size: 14px;
				font-weight: bold;
			}

			.user-name, .version-number {
				float: left;
			}

			.changelog, .user-name {
				color: #222;
			}

			.changelog {
				clear: both;
				padding: 5px 12px;
			}

			.extra {
				float: right;
			}

			.actions {
				background: #EEE;
				border: 1px solid $gray-dark;
				clear: both;
				line-height: 24px;
				margin: 0 12px;
				padding: 5px 7px;

				a {
					color: #34404F;
					display: block;
					font-weight: bold;
					padding: 1px 3px;

					img {
						margin-bottom: 3px;
					}

					&:hover {
						border: 1px solid #AAA;
						padding: 0 2px;
						text-decoration: none;
					}
				}
			}
		}

		.lfr-document-library-comments {
			padding: 0 5px;

			&.lfr-collapsed {
				padding-bottom: 5px;
			}

			.lfr-panel-titlebar {
				background: transparent;
				border-bottom-width: 0;
				margin-bottom: 0;

				.lfr-panel-title {
					font-size: 1em;
				}

				.lfr-panel-button {
					background: url(../images/portlet/minimize.png) no-repeat 0 0;
					height: 16px;
					margin: 1px 0;
				}
			}

			&.lfr-collapsed .lfr-panel-titlebar .lfr-panel-button {
				background: url(../images/portlet/maximize.png) no-repeat 0 0;
				margin: 1px 0;
			}

			.lfr-panel-content {
				margin-bottom: -1px;
				padding: 0 25px;

					.taglib-discussion {
						float: none;
						width: auto;
					}
			}

			.portlet-msg-success.lfr-message-response {
				display: none;
			}

			.taglib-discussion {
				.lfr-discussion {
					margin: 0;
					padding: 20px 0 10px 75px;
				}

				.lfr-discussion-details {
					margin-left: -75px;
					width: 75px;
				}

				.taglib-user-display {
					position: relative;

					.user-profile-image {
						height: 65px;
						overflow: hidden;

						img {
							width: 65px;
						}
					}

					.user-name {
						left: 75px;
						padding-left: .5em;
						position: absolute;
						text-decoration: none;
						top: 0;
						white-space: nowrap;
					}
				}

				.lfr-discussion-message {
					padding-bottom: 8px;
				}

				.lfr-discussion-posted-on {
					position: absolute;
					right: 0;
					top: 0;
				}

				.lfr-discussion-form-container .lfr-discussion-form.lfr-discussion-form-reply {
					margin-left: -70px;

					.user-profile-image {
						height: 40px;
						margin: -5px 0 0 -50px;

						img {
							width: 40px;
						}
					}

					.user-name {
						left: 0;
					}
				}
			}

			.add-comment {
				margin-bottom: 0;
			}

			.lfr-discussion.first {
				border-top: 1px solid #DDD;
			}

			.lfr-discussion-body {
				padding: 15px 0 10px;
				width: auto;
			}

			.lfr-discussion-actions {
				position: absolute;
				right: 0;

				li {
					display: inline;
				}
			}

			.aui-field-input-text {
				width: 450px !important;
			}

			.lfr-discussion-form .aui-field-input-text {
				width: 405px !important;
			}

			ul li a .icon {
				margin: 0 0 0 5px;
			}
		}
	}

	.editting-dialog-content {
		.header-back-to {
			display:none;
		}

		.header-title {
			font-size: 18px;
			line-height: 18px;
			word-break: break-all;
		}
	}
}

/* ---------- Extras ---------- */

.portlet-document-library .lfr-document-library-versions .version .actions {
	@include border-radius(5px);

	a:hover {
		@include border-radius(3px);
		@include box-shadow(0 1px 0 #F4F3F3 inset, 0 -1px 0 #D9D8D8 inset);
	}

	a:active {
		@include box-shadow(0 1px 1px #C9C9C9 inset);
	}
}